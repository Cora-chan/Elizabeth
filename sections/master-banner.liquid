<section class="relative w-full h-screen overflow-hidden text-black">

  <!-- Overlay text -->
  <div class="absolute gap-4 inset-0 z-10 flex flex-col items-center justify-center px-4">
    <h1 class="text-4xl md:text-5xl font-roboto text-white">
      {{ section.settings.heading }}
    </h1>
    <p class="mt-2 text-lg md:text-xl font-story text-white">
      {{ section.settings.subheading }}
    </p>
    <!-- CTA -->
    <button
      id="exploreBtn"
      class="group flex items-center gap-2 px-2 py-2 rounded-full border-2 bg-transparent border-gray-300  hover:bg-gray-100  transition-all duration-200"
    >
      
      <span class="text-md text-white px-2 font-roboto font-normal">Shop the collection</span>
     
    </button>
  </div>

  <!-- Media container -->
  <div id="mediaContainer" class="absolute inset-0 w-full h-full z-0"></div>

  <!-- Navigation buttons -->
  <div class="absolute bottom-4 right-4 z-50 flex gap-2">
    <button
      id="prevBtn"
      class="group flex items-center gap-2 px-2 py-2 rounded-full border-2 border-gray-300 text-gray-800 hover:bg-gray-100 hover:text-gray-900 transition-all duration-200"
    >
      {% render 'icon-left-arrow', class: 'w-5 h-5 transition-transform duration-200 group-hover:-translate-x-1 text-white' %}
    </button>
    <button
      id="nextBtn"
      class="group flex items-center gap-2 px-2 py-2 rounded-full border-2 border-gray-300 text-gray-800 hover:bg-gray-100 hover:text-gray-900 transition-all duration-200"
    >
      {% render 'icon-right-arrow', class: 'w-5 h-5 transition-transform duration-200 group-hover:translate-x-1 text-white' %}
    </button>
  </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const mediaItems = [
    { url: "{{ section.settings.media_1 }}", type: "{{ section.settings.media_1_type }}" },
    { url: "{{ section.settings.media_2 }}", type: "{{ section.settings.media_2_type }}" }
  ];

  const container = document.getElementById('mediaContainer');
  let currentIndex = 0;

  function createMediaElement({ url, type }, isActive = false) {
    const wrapper = document.createElement('div');
    wrapper.className =
      `media-slide absolute inset-0 w-full h-full opacity-0 transition-opacity duration-500 ease-in-out ${isActive ? 'opacity-100' : ''}`;

    if (type === 'video') {
      const video = document.createElement('video');
      Object.assign(video, {
        src: url,
        autoplay: true,
        muted: true,
        loop: true,
        playsInline: true
      });
      video.className = 'w-full h-full object-cover';
      wrapper.appendChild(video);
    } else {
      const img = document.createElement('img');
      img.src = url;
      img.alt = 'Banner Image';
      img.className = 'w-full h-full object-cover';
      wrapper.appendChild(img);
    }

    return wrapper;
  }

  function showMedia(index) {
    const media = createMediaElement(mediaItems[index]);
    container.appendChild(media);

    // Fade in new media
    requestAnimationFrame(() => {
      media.classList.add('opacity-100');
    });

    // Fade out old media
    const slides = container.querySelectorAll('.media-slide');
    if (slides.length > 1) {
      const previous = slides[0];
      previous.classList.remove('opacity-100');
      previous.classList.add('opacity-0');
      setTimeout(() => previous.remove(), 500); // match transition duration
    }
  }

  function cycleMedia(direction) {
    currentIndex = (currentIndex + direction + mediaItems.length) % mediaItems.length;
    showMedia(currentIndex);
  }

  document.getElementById('prevBtn').addEventListener('click', () => cycleMedia(-1));
  document.getElementById('nextBtn').addEventListener('click', () => cycleMedia(1));

  // Initial load with first image visible
  container.appendChild(createMediaElement(mediaItems[currentIndex], true));
});
</script>




{% schema %}
{
"name": "Master Banner",
"tag": "section",
"settings": [
{ "type": "text", "id": "heading", "label": "Heading", "default": "Welcome to Our Store" },
{ "type": "text", "id": "subheading", "label": "Subheading", "default": "Discover our latest collection" },
{ "type": "url", "id": "media_1", "label": "Media URL 1" },
{ "type": "select", "id": "media_1_type", "label": "Media Type 1",
"options": [
{ "value": "video", "label": "Video" },
{ "value": "image", "label": "Image" }
]
},
{ "type": "url", "id": "media_2", "label": "Media URL 2" },
{ "type": "select", "id": "media_2_type", "label": "Media Type 2",
"options": [
{ "value": "video", "label": "Video" },
{ "value": "image", "label": "Image" }
]
}
],
"presets": [{ "name": "Master Banner" }]
}
{% endschema %}